<Window x:Class="BeB64GUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="BeB64 - Base64 Encoder / Decoder" 
        Height="400" Width="500" MinHeight="350" MinWidth="450"
        Background="{DynamicResource WindowBackgroundBrush}"
        Foreground="{DynamicResource WindowForegroundBrush}">

    <!-- Commands / shortcuts -->
    <Window.CommandBindings>
        <CommandBinding Command="ApplicationCommands.Save"
                        Executed="Save_Executed"
                        CanExecute="Save_CanExecute" />
    </Window.CommandBindings>

    <Window.InputBindings>
        <KeyBinding Command="ApplicationCommands.Save" Modifiers="Control" Key="S"/>
    </Window.InputBindings>

    <DockPanel Background="{DynamicResource WindowBackgroundBrush}">

        <!-- Menu (top) -->
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Header="_Save Output..."
                          Command="ApplicationCommands.Save"
                          InputGestureText="Ctrl+S" />
                <Separator />
                <MenuItem Header="E_xit" Click="Exit_Click" />
            </MenuItem>

            <MenuItem Header="_View">
                <MenuItem Header="_Theme">
                    <MenuItem x:Name="LightThemeMenuItem"
                              Header="_Light"
                              IsCheckable="True"                            
                              Click="ThemeMenuItem_Click"
                              Tag="Light"/>
                    <MenuItem x:Name="DarkThemeMenuItem"
                              Header="_Dark"
                              IsCheckable="True"
                              Click="ThemeMenuItem_Click"
                              Tag="Dark"/>

                </MenuItem>
            </MenuItem>
        </Menu>

        <!-- Status bar (bottom) -->
        <StatusBar DockPanel.Dock="Bottom">
            <TextBlock x:Name="StatusText"/>
        </StatusBar>

        <!-- Main content -->
        <Grid Margin="12">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Input label -->
                <RowDefinition Height="*"/>
                <!-- Input box -->
                <RowDefinition Height="Auto"/>
                <!-- Buttons -->
                <RowDefinition Height="Auto"/>
                <!-- Result label -->
                <RowDefinition Height="*"/>
                <!-- Result box -->
            </Grid.RowDefinitions>

            <TextBlock Grid.Row="0" Text="Input (plain text or Base64):" Margin="0,0,0,6"/>
            <TextBox Grid.Row="1" x:Name="InputBox" MinHeight="80"
                     AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TextWrapping="Wrap" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,10">
                <Button Content="Encode →" Width="120" Margin="5" Click="Encode_Click" />
                <Button Content="← Decode" Width="120" Margin="5" Click="Decode_Click" />
                <Button Content="Save Output..." Width="120" Margin="5" Command="ApplicationCommands.Save" />
                <Button Content="Clear" Width="80" Margin="5" Click="Clear_Click" />
            </StackPanel>

            <TextBlock Grid.Row="3" Text="Result:" Margin="0,10,0,6"/>
            <TextBox Grid.Row="4" x:Name="ResultBox" MinHeight="120"
                     AcceptsReturn="True" VerticalScrollBarVisibility="Auto"
                     TextWrapping="Wrap" IsReadOnly="True" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
        </Grid>
    </DockPanel>
</Window>
